---
description: CRITICAL - File naming pattern for specification vs presentation markdown files
globs: "**/*.spec.md"
tags: [critical, documentation, file-naming, patterns]
priority: 1
version: 1.0.0
---

# CRITICAL: Specification vs Presentation File Pattern

## ⚠️ READ THIS FIRST ⚠️

**This rule defines the mandatory file naming pattern for markdown files that serve different purposes.**

---

## File Naming Convention

### Two Distinct File Types

1. **`.spec.md`** - Specification files for LLM-based tool generation
2. **`.presentation.md`** - Presentation files for HTML conversion

### Directory Structure

**CRITICAL:**
- ✅ **Specification files** MUST be placed in: `/docs/specifications/context.spec.md`
- ✅ **Presentation files** MUST be placed in: `/docs/presentation/context.presentation.md`
- ✅ **HTML output** MUST be placed relative to presentation file: `/docs/presentation/context.html`
- ✅ **ALWAYS** generate HTML from presentation files using Python scripts in `scripts/` folder

### Pattern Rules

**CRITICAL:**
- ✅ **`.spec.md`** files are for LLM-based tool generation (NOT for HTML conversion)
- ✅ **`.presentation.md`** files are for HTML conversion (stakeholder-facing documents)
- ❌ **NEVER** convert `.spec.md` files to HTML using conversion scripts
- ❌ **NEVER** use `.presentation.md` files for LLM tool generation specs
- ❌ **NEVER** place spec or presentation files outside their designated directories

---

## Specification Files (`.spec.md`)

### Purpose

Specification files document requirements for building custom interactive HTML tools using LLMs.

### When to Use

- Documenting feature requirements for interactive tools
- Defining UI/UX specifications for tool generation
- Specifying technical implementation details
- Documenting data structures and validation rules

### Characteristics

- **Read by:** LLMs (AI assistants) to generate interactive tools
- **Output:** Interactive HTML tools generated by AI
- **Format:** Detailed specifications with requirements, UI/UX, technical details
- **Conversion:** ❌ **NEVER** convert to HTML using conversion scripts

### Example Usage

```markdown
# STEP_BY_STEP_PRESENTATION.spec.md

## Feature Requirements
- Interactive step-by-step guide
- Multi-persona workflow visualization
- Code example syntax highlighting

## UI/UX Specifications
- Responsive design
- Navigation between sections
- Search functionality

## Technical Implementation
- Use React for interactivity
- Include Mermaid diagram rendering
- Syntax highlighting for code blocks
```

### How to Use Spec Files

1. **Create the spec file** in `/docs/specifications/` directory with `.spec.md` extension
   - Example: `/docs/specifications/implementation-spec.spec.md`
2. **Ask your AI assistant:**
   ```
   Build the interactive tool based on docs/specifications/implementation-spec.spec.md
   ```
3. **AI reads and interprets** the specification
4. **AI generates** the complete interactive HTML tool
5. **Review and refine** with the AI as needed

### Validation

Use `scripts/validate_spec_file.py` to validate spec files:

```bash
py scripts/validate_spec_file.py STEP_BY_STEP_PRESENTATION.spec.md
```

---

## Presentation Files (`.presentation.md`)

### Purpose

Presentation files are stakeholder-facing documents that are converted to HTML for sharing and presentation.

### When to Use

- Creating documentation for stakeholders
- Generating HTML presentations
- Creating shareable documentation
- Producing formatted HTML documents

### Characteristics

- **Read by:** Humans (stakeholders, team members)
- **Output:** HTML files for presentation
- **Format:** Markdown with Mermaid diagrams, code blocks, tables
- **Conversion:** ✅ **ALWAYS** convert to HTML using conversion scripts

### Example Usage

```markdown
# STEP_BY_STEP_PRESENTATION.presentation.md

# Step-by-Step Presentation: Using Cursor Template

## Introduction
[Content for stakeholders]

## Workflows
[Detailed workflows with diagrams]
```

### How to Use Presentation Files

1. **Create the presentation file** in `/docs/presentation/` directory with `.presentation.md` extension
   - Example: `/docs/presentation/solution-architecture.presentation.md`
2. **Convert to HTML** using Python script:

   **OS Detection:** Use `py` on Windows, `python` or `python3` on Unix/Linux/Mac

   ```bash
   # Windows (PowerShell)
   py scripts\convert_md_to_html_for_presentation.py docs\presentation\solution-architecture.presentation.md docs\presentation\solution-architecture.html
   
   # Unix/Linux/Mac
   python scripts/convert_md_to_html_for_presentation.py docs/presentation/solution-architecture.presentation.md docs/presentation/solution-architecture.html
   # OR
   python3 scripts/convert_md_to_html_for_presentation.py docs/presentation/solution-architecture.presentation.md docs/presentation/solution-architecture.html
   ```
3. **HTML output** will be created in same directory as presentation file (relative path)
4. **Share the HTML file** with stakeholders

### Conversion Script

Use `scripts/convert_md_to_html_for_presentation.py`:

**OS Detection:** Use `py` on Windows, `python` or `python3` on Unix/Linux/Mac

```bash
# Windows (PowerShell)
py scripts\convert_md_to_html_for_presentation.py <input.presentation.md> <output.html>

# Unix/Linux/Mac
python scripts/convert_md_to_html_for_presentation.py <input.presentation.md> <output.html>
# OR
python3 scripts/convert_md_to_html_for_presentation.py <input.presentation.md> <output.html>
```

**Features:**
- Syntax highlighting for code blocks
- Mermaid diagram rendering
- Responsive design
- Professional styling

---

## File Naming Examples

### Correct Usage

✅ **Specification File:**
```
docs/specifications/implementation-spec.spec.md
docs/specifications/user-guide.spec.md
docs/specifications/workflow-guide.spec.md
```

✅ **Presentation File:**
```
docs/presentation/solution-architecture.presentation.md
docs/presentation/technical-design.presentation.md
docs/presentation/user-guide.presentation.md
```

✅ **HTML Output (generated from presentation):**
```
docs/presentation/solution-architecture.html
docs/presentation/technical-design.html
docs/presentation/user-guide.html
```

### Incorrect Usage

❌ **Wrong Extensions:**
```
STEP_BY_STEP_PRESENTATION.md          # Missing .spec or .presentation
STEP_BY_STEP_PRESENTATION.spec        # Missing .md
STEP_BY_STEP_PRESENTATION.presentation # Missing .md
```

---

## Workflow Patterns

### Pattern 1: Create Specification for Tool Generation

```
1. Create: STEP_BY_STEP_PRESENTATION.spec.md
2. Define: Requirements, UI/UX, technical details
3. Ask AI: "Build tool based on STEP_BY_STEP_PRESENTATION.spec.md"
4. AI generates: Interactive HTML tool
5. Review and refine
```

### Pattern 2: Create Presentation for Stakeholders

```
1. Create: docs/presentation/solution-architecture.presentation.md
2. Write: Content with diagrams, code examples
3. Convert: py scripts\convert_md_to_html_for_presentation.py docs\presentation\solution-architecture.presentation.md docs\presentation\solution-architecture.html
4. Output: docs/presentation/solution-architecture.html (relative to presentation file)
5. Share: HTML file with stakeholders
```

### Pattern 3: Both Spec and Presentation

```
1. Create: STEP_BY_STEP_PRESENTATION.spec.md (for tool generation)
2. Create: STEP_BY_STEP_PRESENTATION.presentation.md (for HTML conversion)
3. Use spec for: AI tool generation
4. Use presentation for: Stakeholder documentation
```

---

## Critical Rules

### ALWAYS

✅ Use `.spec.md` for LLM-based tool generation specifications  
✅ Place spec files in `/docs/specifications/` directory  
✅ Use `.presentation.md` for HTML conversion  
✅ Place presentation files in `/docs/presentation/` directory  
✅ Generate HTML from presentation files using Python scripts in `scripts/` folder  
✅ Place HTML output relative to presentation file (same directory)  
✅ Validate spec files before using for tool generation  
✅ Convert presentation files to HTML before sharing  
✅ Follow the naming pattern consistently

### NEVER

❌ Convert `.spec.md` files to HTML  
❌ Use `.presentation.md` files for tool generation specs  
❌ Place spec files outside `/docs/specifications/` directory  
❌ Place presentation files outside `/docs/presentation/` directory  
❌ Mix up the file purposes  
❌ Use generic `.md` extension for spec or presentation files  
❌ Skip validation for spec files  
❌ Skip HTML generation for presentation files

---

## Scripts Reference

### Validation Script

**File:** `scripts/validate_spec_file.py`

**Purpose:** Validate that a file is a proper specification file

**Usage:**
```bash
py scripts/validate_spec_file.py <input.spec.md>
```

**Output:**
- Confirms file is a spec file
- Provides guidance on using spec files
- Warns against HTML conversion

### Conversion Script

**File:** `scripts/convert_md_to_html_for_presentation.py`

**Purpose:** Convert presentation markdown files to HTML

**Usage:**

**OS Detection:** Use `py` on Windows, `python` or `python3` on Unix/Linux/Mac

```bash
# Windows (PowerShell)
py scripts\convert_md_to_html_for_presentation.py docs\presentation\<input>.presentation.md docs\presentation\<output>.html

# Unix/Linux/Mac
python scripts/convert_md_to_html_for_presentation.py docs/presentation/<input>.presentation.md docs/presentation/<output>.html
# OR
python3 scripts/convert_md_to_html_for_presentation.py docs/presentation/<input>.presentation.md docs/presentation/<output>.html
```

**Note**: Scripts are located in `scripts/` folder at repository root. These are generic, reusable scripts that should be copied from template projects or created once and reused across all projects.

**Features:**
- Mermaid diagram support
- Syntax highlighting
- Responsive design
- Professional styling

**Validation:**
- Warns if input is not `.presentation.md`
- Prompts for confirmation if needed

---

## Examples

### Example 1: Specification File

**File:** `STEP_BY_STEP_PRESENTATION.spec.md`

```markdown
# Step-by-Step Presentation Tool Specification

## Feature Requirements
- Interactive navigation
- Multi-persona workflow visualization
- Code example syntax highlighting
- Search functionality

## UI/UX Specifications
- Responsive design
- Dark/light theme toggle
- Print-friendly layout

## Technical Implementation
- React-based interactive components
- Mermaid diagram rendering
- Syntax highlighting library
```

**Usage:**
```bash
# Validate
py scripts/validate_spec_file.py STEP_BY_STEP_PRESENTATION.spec.md

# Ask AI to build tool
"Build the interactive tool based on STEP_BY_STEP_PRESENTATION.spec.md"
```

### Example 2: Presentation File

**File:** `STEP_BY_STEP_PRESENTATION.presentation.md`

```markdown
# Step-by-Step Presentation: Using Cursor Template

## Introduction
This guide provides comprehensive instructions...

## Workflows
[Content with Mermaid diagrams]
```

**Usage:**
```bash
# Convert to HTML
py scripts\convert_md_to_html_for_presentation.py STEP_BY_STEP_PRESENTATION.presentation.md STEP_BY_STEP_PRESENTATION.html

# Share HTML file
```

---

## Troubleshooting

### Issue: Script warns about wrong file type

**Solution:**
- Check file extension matches purpose
- Use `.spec.md` for tool generation
- Use `.presentation.md` for HTML conversion

### Issue: Spec file not recognized

**Solution:**
- Verify file ends with `.spec.md`
- Run validation script to check
- Ensure file contains specification content

### Issue: Presentation file won't convert

**Solution:**
- Verify file ends with `.presentation.md`
- Check markdown syntax is valid
- Ensure Mermaid diagrams use safe characters

---

**Last Updated:** 2025-01-22  
**Version:** 1.0.0  
**Rule Type:** File Naming Pattern  
**Priority:** CRITICAL
